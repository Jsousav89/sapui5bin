<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
        <title>OData Date Table Filter</title>

        <script id="sap-ui-bootstrap"
                src="/sapui5/latest/libs/resources/sap-ui-core.js"
                type="text/javascript"
                data-sap-ui-theme="sap_goldreflection"
                data-sap-ui-libs="sap.ui.core,sap.ui.commons,sap.ui.table">
        </script>
        <script type="text/javascript">
            var sURI = "http://services.odata.org/V3/Northwind/Northwind.svc/";
            var oModel = new sap.ui.model.odata.ODataModel(sURI, true);
    

            jQuery.sap.require("sap.ui.core.format.DateFormat");


            /*
            * Format date to dd.MM.YYYY
            */
            function dateShort(oDate){
                var oDate = (oDate instanceof Date) ? oDate : new Date(oDate);
                var dateFormat = sap.ui.core.format.DateFormat.getDateInstance({pattern : "dd.MM.yyyy" });
                 return dateFormat.format(oDate);
            };

            var dateType = new sap.ui.model.type.Date({
                source: {pattern: "yyyy-MM-dd"}, pattern: "dd.MM.yyyy"
            });

            var oTable = new sap.ui.table.Table("tt",{
                title: "Table Example",
                visibleRowCount: 7,
                firstVisibleRow: 3
            });

            oTable.addColumn(new sap.ui.table.Column({
                label: new sap.ui.commons.Label({text: "FirstName"}),
                template: new sap.ui.commons.TextField().bindProperty("value", "FirstName"),
            }));

            oTable.addColumn(new sap.ui.table.Column({
                label: new sap.ui.commons.Label({text: "LastName"}),
                template: new sap.ui.commons.TextField().bindProperty("value", "LastName"),
            }));

            oTable.addColumn(new sap.ui.table.Column({
                label: new sap.ui.commons.Label({text: "BirthDate"}),
                template: new sap.ui.commons.TextField(  
                {
                    value: {
                        path : "BirthDate", 
                        formatter : dateShort,
                    },
                }),
                sortProperty: "BirthDate",
                filterProperty: "BirthDate",
                // filterType: dateType
                filterType: new sap.ui.model.type.Date({
                    source: {
                        pattern: "yyyy-MM-dd"
                    },
                    pattern: "dd.MM.yyyy"
                })
            }));

            oTable.setModel(oModel).bindRows({ path: "/Employees", parameters: { select: "FirstName,LastName,BirthDate" }} );

            oTable.placeAt("sample1");

        </script>
    </head>

    <body class="sapUiBody" id="body" role="application">
        <div id="sample1"></div>
    </body>
</html>
